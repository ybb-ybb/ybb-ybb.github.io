<!DOCTYPE html>
<html lang="zh-CN">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" rel="stylesheet" type="text/css">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  
  <title itemprop="name">python图算法 | 鱼摆摆的blog</title>
  
    <link rel="shortcut icon" href="/images/favicon.ico">
  
  <meta http-equiv="x-dns-prefetch-control" content="on">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+SerifMerriweather|Merriweather+Sans|Source+Code+Pro|Ubuntu:400,700|Noto+Serif+SC" media="all">
  <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
  <link rel="stylesheet" id="saukra_css-css" href="/css/style.css" type="text/css" media="all">
  <link rel="stylesheet" href="/css/lib.min.css" media="all">
  <link rel="stylesheet" href="/css/font.css" media="all">
  <link rel="stylesheet" href="/css/insight.css" media="all">
  <link rel="stylesheet" href="/css/jquery.fancybox.min.css" media="all">
  <link rel="stylesheet" href="/css/zoom.css" media="all">
  <link rel="stylesheet" type="text/css" href="/css/sharejs.css">
<!--   <link rel="stylesheet" id="saukra_css-css" href="https://2heng.xin/wp-content/cache/autoptimize/css/autoptimize_ad42a61f4c7d4bdd9f91afcff6b5dda5.css
" type="text/css" media="all"> -->
  <script>
  /*Initial Variables*/
  var mashiro_option = new Object();
  var mashiro_global = new Object();
  mashiro_option.NProgressON = true;
  /* 
   * 邮箱信息之类的东西可以填在这里，这些js变量基本都作用于sakura-app.js
   * 这样的设置仅是为了方便在基于PHP开发的主题中设置js变量，既然移植到了Node上，我想或许可以精简这一逻辑吧
   */
  mashiro_option.email_domain = "";
  mashiro_option.email_name = "";
  mashiro_option.cookie_version_control = "";
  mashiro_option.qzone_autocomplete = false;
  mashiro_option.site_name = "鱼摆摆的blog";
  mashiro_option.author_name = "鱼摆摆的blog";
  mashiro_option.site_url = "https://ybb-ybb.github.io";
  mashiro_option.v_appId = "WkB5pg4GayKX0zctOl4BpfWA-gzGzoHsz";
  mashiro_option.v_appKey = "os0xe9xmnbkH2BsB7jdySUeJ";
  mashiro_option.mathjax = "0";
  mashiro_option.qq_api_url = "https://api.mashiro.top/qqinfo/"; 
  mashiro_option.qq_avatar_api_url = "https://api.mashiro.top/qqinfo/";

  // mashiro_option.jsdelivr_css_src = "https://cdn.jsdelivr.net/gh/moezx/cdn@3.4.5/css/lib.min.css";
  // mashiro_option.float_player_on = true;

  /*End of Initial Variables*/
  </script>
  <script type="text/javascript">
  var bg = "https://cdn.jsdelivr.net/gh/ybb-ybb/CDNrepository@1.1/鬼刀180824/19s_by_wlop-dbsw09i.jpg,https://cdn.jsdelivr.net/gh/ybb-ybb/CDNrepository@1.1/鬼刀/651952.jpg,https://cdn.jsdelivr.net/gh/ybb-ybb/CDNrepository@1.1/鬼刀/680362.png,https://cdn.jsdelivr.net/gh/ybb-ybb/CDNrepository@1.1/鬼刀/731440.png,https://cdn.jsdelivr.net/gh/ybb-ybb/CDNrepository@1.1/鬼刀/820208.png,https://cdn.jsdelivr.net/gh/ybb-ybb/CDNrepository@1.1/鬼刀/928760.jpg,https://cdn.jsdelivr.net/gh/ybb-ybb/CDNrepository@1.1/鬼刀/944582.jpg,https://cdn.jsdelivr.net/gh/ybb-ybb/CDNrepository@1.1/鬼刀/954350.jpg,https://cdn.jsdelivr.net/gh/ybb-ybb/CDNrepository@1.1/鬼刀/997983.jpg".split(",");
  var bgindex = Math.floor(Math.random()*bg.length);
  if (!!window.ActiveXObject || "ActiveXObject" in window) { //is IE?
    alert('朋友，IE浏览器未适配哦~');
  }
  </script>
  <style type="text/css">
  .hljs-ln{border-collapse:collapse}.hljs-ln td{padding:0}.hljs-ln-n:before{content:attr(data-line-number)}
  </style>
  <style type="text/css">.site-top .lower nav{display:block !important;}.author-profile i,.post-like a,.post-share .show-share,.sub-text,.we-info a,span.sitename,.post-more i:hover,#pagination a:hover,.post-content a:hover,.float-content i:hover{color:#FE9600}.feature i,.download,.navigator i:hover,.links ul li:before,.ar-time i,span.ar-circle,.object,.comment .comment-reply-link,.siren-checkbox-radio:checked + .siren-checkbox-radioInput:after{background:#FE9600}::-webkit-scrollbar-thumb{background:#FE9600}.download,.navigator i:hover,.link-title,.links ul li:hover,#pagination a:hover,.comment-respond input[type='submit']:hover{border-color:#FE9600}.entry-content a:hover,.site-info a:hover,.comment h4 a,#comments-navi a.prev,#comments-navi a.next,.comment h4 a:hover,.site-top ul li a:hover,.entry-title a:hover,#archives-temp h3,span.page-numbers.current,.sorry li a:hover,.site-title a:hover,i.iconfont.js-toggle-search.iconsearch:hover,.comment-respond input[type='submit']:hover{color:#FE9600}.comments .comments-main{display:block !important;}.comments .comments-hidden{display:none !important;}background-position:center center;background-attachment:inherit;}
  </style>
</head>
</html>
<body class="page-template page-template-user page-template-page-analytics page-template-userpage-analytics-php page page-id-1297 chinese-font serif isWebKit">
  <div class="scrollbar" id="bar">
  </div>
  <a href="#" class="cd-top faa-float animated"></a>
  <section id="main-container">
    <div class="headertop filter-dot">
  <div id="banner_wave_1"></div>
  <div id="banner_wave_2"></div>
  <figure id="centerbg" class="centerbg">
    <div class="focusinfo no-select">
      <div class="header-tou">
        <a href="https://ybb-ybb.github.io">
          <img src="https://cdn.jsdelivr.net/gh/ybb-ybb/CDNrepository@1.1/img/fig.jpg">
        </a>
      </div>
      <div class="header-info">
        <p>你们不要想喜欢 弄个大新闻 ——长者</p>
        <div class="top-social_v2">
          <li id="bg-pre">
            <img class="flipx" src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/next-b.svg">
          </li>
          
            
              
                <li>
                  <a href="http://github.com/ybb-ybb" target="_blank" class="social-github" title="github">
                    <img src="https://cdn.jsdelivr.net/gh/ybb-ybb/CDNrepository@1.1/img/social/github.png">
                  </a>
                </li>
              
            
              
                <li>
                  <a href="https://i.loli.net/2020/03/08/Xgz72w4JuGZBTNQ.jpg" target="_blank" class="social-github" title="zhihu">
                    <img src="https://cdn.jsdelivr.net/gh/ybb-ybb/CDNrepository@1.1/img/social/zhihu.png">
                  </a>
                </li>
              
            
              
                <li>
                  <a href="https://i.loli.net/2020/03/07/bI1Wws9Mju3CkoZ.jpg" target="_blank" class="social-github" title="Wechat">
                    <img src="https://cdn.jsdelivr.net/gh/ybb-ybb/CDNrepository@1.1/img/social/wechat.png">
                  </a>
                </li>
              
            
              
                <li>
                  <a href="https://i.loli.net/2020/03/07/OdKMwNzHgB7beqp.jpg" target="_blank" class="social-github" title="qq">
                    <img src="https://cdn.jsdelivr.net/gh/ybb-ybb/CDNrepository@1.1/img/social/qq.png">
                  </a>
                </li>
              
            
          
          <li id="bg-next">
            <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/next-b.svg">
          </li>
        </div>
      </div>
    </div>
  </figure>
  <div id="video-container" style="">
    <video style="object-fit: fill" id="bgvideo" class="video" video-name="" src="" width="auto" preload="auto">
    </video>
    <div id="video-btn" class="loadvideo videolive">
    </div>
    <div id="video-add">
    </div>
    <div class="video-stu">
    </div>
  </div>
  <div class="headertop-down faa-float animated" onclick="headertop_down()">
    <span>
      <i class="fa fa-chevron-down" aria-hidden="true">
      </i>
    </span>
  </div>
</div>
    <div id="page" class="site wrapper">
      <header class="site-header no-select gizle sabit" role="banner">
  <div class="site-top">
    <div class="site-branding">
      <span class="site-title">
        <span class="logolink moe-mashiro">
          <a href="/">
            <span class="sakurasono"></span>
            <span class="shironeko">鱼摆摆的blog</span>
          </a>
        </span>
      </span>
    </div>
    <div class="searchbox search-form-submit">
      <i class="iconfont js-toggle-search iconsearch icon-search">
      </i>
    </div>
    <div id="show-nav" class="showNav mobile-fit">
      <div class="line line1">
      </div>
      <div class="line line2">
      </div>
      <div class="line line3">
      </div>
    </div>
    <div class="lower-cantiner">
      <div class="lower">
        <nav class="mobile-fit-control hide">
          <ul id="menu-new" class="menu">
            
              <li>
                <a href="/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-fort-awesome faa-shake" aria-hidden="true"></i>
                    首页
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/archives">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-archive faa-shake" aria-hidden="true"></i>
                    归档
                  </span>
                </a>
                
                  <ul class="sub-menu">
                    
                      <li>
                        <a href="/categories/学习/">
                          <i class="fa fa-code" aria-hidden="true"></i>
                          学习
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/瞎折腾/">
                          <i class="fa fa-file-text-o" aria-hidden="true"></i>
                          瞎折腾
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/实验室/">
                          <i class="fa fa-cloud-download" aria-hidden="true"></i>
                          实验室
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/安利/">
                          <i class="fa fa-commenting-o" aria-hidden="true"></i>
                          安利
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/其它/">
                          <i class="fa fa-book" aria-hidden="true"></i>
                          其它
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="javascript:;">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-list-ul faa-vertical" aria-hidden="true"></i>
                    清单
                  </span>
                </a>
                
                  <ul class="sub-menu">
                    
                      <li>
                        <a href="/tags/悦读/">
                          <i class="fa fa-th-list faa-bounce" aria-hidden="true"></i>
                          书单
                        </a>
                      </li>
                    
                      <li>
                        <a href="/music/">
                          <i class="fa fa-headphones" aria-hidden="true"></i>
                          歌单
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/comment/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-pencil-square-o faa-tada" aria-hidden="true"></i>
                    留言板
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/links/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-link faa-shake" aria-hidden="true"></i>
                    友人帐
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-leaf faa-wrench" aria-hidden="true"></i>
                    关于
                  </span>
                </a>
                
                  <ul class="sub-menu">
                    
                      <li>
                        <a href="/theme-sakura/">
                          <i class="fa iconfont icon-sakura" aria-hidden="true"></i>
                          主题
                        </a>
                      </li>
                    
                      <li>
                        <a href="/lab/">
                          <i class="fa fa-cogs" aria-hidden="true"></i>
                          Lab
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
          </ul>
        </nav>
      </div>
    </div>
  </div>
</header>

      <link rel="stylesheet" type="text/css" href="/css/sharejs.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css">
<div class="pattern-center-blank"></div>

  <div class="pattern-center single-center">
    <!-- 有配图默认渲染第一张 -->
    <div class="pattern-attachment-img lazyload" style="background-image: url(https://w.wallhaven.cc/full/nm/wallhaven-nmwp71.jpg);" src="/img/loader/orange.progress-bar-stripe-loader.svg" data-src="https://w.wallhaven.cc/full/nm/wallhaven-nmwp71.jpg">
    </div>
    <header class="pattern-header single-header">
      <h1 class="entry-title">
      python图算法</h1>
      <p class="entry-census">
        <span>
          <a href="">
            <img src="">
          </a>
        </span>
        <span>
          <a href="">鱼摆摆</a>
        </span>
        <span class="bull">
        ·</span>
        2021-1-6<span class="bull">
        ·</span>
      <span id="busuanzi_value_page_pv"></span>次阅读</p>
    </header>
  </div>

<div id="content" class="site-content">
  <div id="primary" class="content-area">
    <main id="main" class="site-main" role="main">
      <article id="post-1" class="post-1 post type-post status-publish format-standard has-post-thumbnail hentry category-uncategorized">
        <div class="toc"></div>
        <!--<div class="toc-entry-content"><!-- 套嵌目录使用（主要为了支援评论）-->
        
        <div class="entry-content">
          <h1 id="深度优先搜索dfs模板"><a class="markdownIt-Anchor" href="#深度优先搜索dfs模板"></a> 深度优先搜索(DFS)模板:</h1>
<pre class="highlight"><code class="java"><span class="hljs-function">def <span class="hljs-title">dfs</span><span class="hljs-params">()</span>: 
    <span class="hljs-title">if</span> <span class="hljs-params">(满足特定条件）{
        // 返回结果 or 退出搜索空间
    }
    <span class="hljs-keyword">for</span> choice in all_choices()</span>:
        <span class="hljs-title">record</span><span class="hljs-params">(choice)</span>
        <span class="hljs-title">dfs</span><span class="hljs-params">()</span>
        <span class="hljs-title">rollback</span><span class="hljs-params">(choice)</span>
}
</span></code></pre>
<h1 id="广度优先搜索bfs模板"><a class="markdownIt-Anchor" href="#广度优先搜索bfs模板"></a> 广度优先搜索(BFS)模板：</h1>
<pre class="highlight"><code class="python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">bfs</span><span class="hljs-params">(k)</span>:</span>
        <span class="hljs-comment"># 使用双端队列，而不是数组。因为数组从头部删除元素的时间复杂度为 N，双端队列的底层实现其实是链表。</span>
        queue = collections.deque([root])
        <span class="hljs-comment"># 记录层数</span>
        steps = <span class="hljs-number">0</span>
        <span class="hljs-comment"># 需要返回的节点</span>
        ans = []
        <span class="hljs-comment"># 队列不空，生命不止！</span>
        <span class="hljs-keyword">while</span> queue:
            size = len(queue)
            <span class="hljs-comment"># 遍历当前层的所有节点</span>
            <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> range(size):
                node = queue.popleft()
                <span class="hljs-keyword">if</span> (step == k) ans.append(node)
                <span class="hljs-keyword">if</span> node.right:
                    queue.append(node.right)
                <span class="hljs-keyword">if</span> node.left:
                    queue.append(node.left)
            <span class="hljs-comment"># 遍历完当前层所有的节点后 steps + 1</span>
            steps += <span class="hljs-number">1</span>
        <span class="hljs-keyword">return</span> ans
</code></pre>
<h1 id="典型建图代码"><a class="markdownIt-Anchor" href="#典型建图代码"></a> 典型建图代码：</h1>
<pre class="highlight"><code class="python"><span class="hljs-comment"># 邻接表形式</span>
<span class="hljs-keyword">from</span> collections <span class="hljs-keyword">import</span> defaultdict

graph = defaultdict(list)
<span class="hljs-keyword">for</span> u, v, c <span class="hljs-keyword">in</span> times:
    graph[u].append((v, c))
    
<span class="hljs-comment"># 邻接矩阵形式</span>
graph = [[float(<span class="hljs-string">'inf'</span>) <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> range(n)] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> range(n)]
<span class="hljs-keyword">for</span> u, v, c <span class="hljs-keyword">in</span> items:
    graph[u][v] = c
    graph[v][u] = c
</code></pre>
<h1 id="dijkstra算法狄克斯拉特算法"><a class="markdownIt-Anchor" href="#dijkstra算法狄克斯拉特算法"></a> Dijkstra算法(狄克斯拉特算法)</h1>
<p>模板：借助堆的数据结构，每次在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">O</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">\mathcal{O} logn</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">O</span></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">n</span></span></span></span> 时间复杂度内找到cost最小的点。(注：只适用于有向无环图，且无负权边)</p>
<p>步骤：</p>
<ul>
<li>找出最短时间内前往的节点(对于该节点来说，没有更短路径，直接将其加入到visited中)</li>
<li>对于该节点的每个邻居，更新开销</li>
<li>重复计算，直到每个节点的开销都被更新过</li>
<li>计算最终路径</li>
</ul>
<pre class="highlight"><code class="python"><span class="hljs-keyword">import</span> heapq

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">dijkstra</span><span class="hljs-params">(graph, start, end)</span>:</span>
    <span class="hljs-comment"># 堆里的数据都是 (cost, i) 的二元祖，其含义是“从 start 走到 i 的距离是 cost”。</span>
    heap = [(<span class="hljs-number">0</span>, start)]
    visited = set()
    <span class="hljs-keyword">while</span> heap:
        (cost, u) = heapq.heappop(heap)
        <span class="hljs-keyword">if</span> u <span class="hljs-keyword">in</span> visited:
            <span class="hljs-keyword">continue</span>
        visited.add(u)
        <span class="hljs-keyword">if</span> u == end:
            <span class="hljs-keyword">return</span> cost
        <span class="hljs-keyword">for</span> v, c <span class="hljs-keyword">in</span> graph[u]:
            <span class="hljs-keyword">if</span> v <span class="hljs-keyword">in</span> visited:
                <span class="hljs-keyword">continue</span>
            next = cost + c
            heapq.heappush(heap, (next, v))
    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>
</code></pre>
<h1 id="floyd_warshall算法"><a class="markdownIt-Anchor" href="#floyd_warshall算法"></a> Floyd_warshall算法：</h1>
<p>基于动态规划，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>i</mi><mi>s</mi><mi>t</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>=</mo><mi>d</mi><mi>i</mi><mi>s</mi><mi>t</mi><mrow><mi>i</mi><mo separator="true">,</mo><mi>k</mi></mrow><mo>+</mo><mi>d</mi><mi>i</mi><mi>s</mi><mi>t</mi><mo stretchy="false">(</mo><mi>j</mi><mo separator="true">,</mo><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">dist(i,j)=dist{i,k}+dist(j,k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mopen">(</span><span class="mord mathdefault">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mord"><span class="mord mathdefault">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span>，时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>3</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathcal{O}(n^3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">O</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，空间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathcal{O}(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">O</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 为图顶点个数。</p>
<pre class="highlight"><code class="python"><span class="hljs-comment"># graph 是邻接矩阵，v 是顶点个数</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">floyd_warshall</span><span class="hljs-params">(graph, v)</span>:</span>
    dist = [[float(<span class="hljs-string">"inf"</span>) <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> range(v)] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> range(v)]

    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(v):
        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> range(v):
            dist[i][j] = graph[i][j]

    <span class="hljs-comment"># check vertex k against all other vertices (i, j)</span>
    <span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> range(v):
        <span class="hljs-comment"># looping through rows of graph array</span>
        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(v):
            <span class="hljs-comment"># looping through columns of graph array</span>
            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> range(v):
                <span class="hljs-keyword">if</span> (
                    dist[i][k] != float(<span class="hljs-string">"inf"</span>)
                    <span class="hljs-keyword">and</span> dist[k][j] != float(<span class="hljs-string">"inf"</span>)
                    <span class="hljs-keyword">and</span> dist[i][k] + dist[k][j] &lt; dist[i][j]
                ):
                    dist[i][j] = dist[i][k] + dist[k][j]
    <span class="hljs-keyword">return</span> dist, v
</code></pre>
<h1 id="a星寻路算法"><a class="markdownIt-Anchor" href="#a星寻路算法"></a> A星寻路算法</h1>
<p>解决的问题是在二维表格中找出任意两点的最短路径，一般题目中包括障碍物。</p>
<p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mi>g</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>+</mo><mi>h</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(n) = g(n) + h(n)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">h</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span></p>
<ul>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span> 是从初始状态经由状态 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 到目标状态的估计代价，</li>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">g(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span> 是在状态空间中从初始状态到状态 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 的实际代价，</li>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">h(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">h</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span> 是从状态 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 到目标状态的最佳路径的估计代价。</li>
</ul>
<p>估价算法：一般使用曼哈顿距离进行估价。</p>
<p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>H</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mi>D</mi><mo>∗</mo><mo stretchy="false">(</mo><mi>a</mi><mi>b</mi><mi>s</mi><mo stretchy="false">(</mo><mi>n</mi><mi mathvariant="normal">.</mi><mi>x</mi><mi mathvariant="normal">–</mi><mi>g</mi><mi>o</mi><mi>a</mi><mi>l</mi><mi mathvariant="normal">.</mi><mi>x</mi><mo stretchy="false">)</mo><mo>+</mo><mi>a</mi><mi>b</mi><mi>s</mi><mo stretchy="false">(</mo><mi>n</mi><mi mathvariant="normal">.</mi><mi>y</mi><mi mathvariant="normal">–</mi><mi>g</mi><mi>o</mi><mi>a</mi><mi>l</mi><mi mathvariant="normal">.</mi><mi>y</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">H(n) = D * (abs ( n.x – goal.x ) + abs ( n.y – goal.y ) )
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mord mathdefault">b</span><span class="mord mathdefault">s</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord">.</span><span class="mord mathdefault">x</span><span class="mord" style="margin-right:0.02778em;">–</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">o</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord">.</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mord mathdefault">b</span><span class="mord mathdefault">s</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord">.</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mord" style="margin-right:0.02778em;">–</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">o</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord">.</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span></span></p>
<pre class="highlight"><code class="python">grid = [
    [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>],
    [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>],  <span class="hljs-comment"># 0 are free path whereas 1's are obstacles</span>
    [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>],
    [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>],
    [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>],
]

<span class="hljs-string">"""
heuristic = [[9, 8, 7, 6, 5, 4],
             [8, 7, 6, 5, 4, 3],
             [7, 6, 5, 4, 3, 2],
             [6, 5, 4, 3, 2, 1],
             [5, 4, 3, 2, 1, 0]]"""</span>

init = [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>]
goal = [len(grid) - <span class="hljs-number">1</span>, len(grid[<span class="hljs-number">0</span>]) - <span class="hljs-number">1</span>]  <span class="hljs-comment"># all coordinates are given in format [y,x]</span>
cost = <span class="hljs-number">1</span>

<span class="hljs-comment"># the cost map which pushes the path closer to the goal</span>
heuristic = [[<span class="hljs-number">0</span> <span class="hljs-keyword">for</span> row <span class="hljs-keyword">in</span> range(len(grid[<span class="hljs-number">0</span>]))] <span class="hljs-keyword">for</span> col <span class="hljs-keyword">in</span> range(len(grid))]
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(grid)):
    <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> range(len(grid[<span class="hljs-number">0</span>])):
        heuristic[i][j] = abs(i - goal[<span class="hljs-number">0</span>]) + abs(j - goal[<span class="hljs-number">1</span>])
        <span class="hljs-keyword">if</span> grid[i][j] == <span class="hljs-number">1</span>:
            heuristic[i][j] = <span class="hljs-number">99</span>  <span class="hljs-comment"># added extra penalty in the heuristic map</span>


<span class="hljs-comment"># the actions we can take</span>
delta = [[<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>], [<span class="hljs-number">0</span>, <span class="hljs-number">-1</span>], [<span class="hljs-number">1</span>, <span class="hljs-number">0</span>], [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>]]  <span class="hljs-comment"># go up  # go left  # go down  # go right</span>


<span class="hljs-comment"># function to search the path</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">search</span><span class="hljs-params">(grid, init, goal, cost, heuristic)</span>:</span>

    closed = [
        [<span class="hljs-number">0</span> <span class="hljs-keyword">for</span> col <span class="hljs-keyword">in</span> range(len(grid[<span class="hljs-number">0</span>]))] <span class="hljs-keyword">for</span> row <span class="hljs-keyword">in</span> range(len(grid))
    ]  <span class="hljs-comment"># the reference grid</span>
    closed[init[<span class="hljs-number">0</span>]][init[<span class="hljs-number">1</span>]] = <span class="hljs-number">1</span>
    action = [
        [<span class="hljs-number">0</span> <span class="hljs-keyword">for</span> col <span class="hljs-keyword">in</span> range(len(grid[<span class="hljs-number">0</span>]))] <span class="hljs-keyword">for</span> row <span class="hljs-keyword">in</span> range(len(grid))
    ]  <span class="hljs-comment"># the action grid</span>

    x = init[<span class="hljs-number">0</span>]
    y = init[<span class="hljs-number">1</span>]
    g = <span class="hljs-number">0</span>
    f = g + heuristic[init[<span class="hljs-number">0</span>]][init[<span class="hljs-number">0</span>]]
    cell = [[f, g, x, y]]

    found = <span class="hljs-literal">False</span>  <span class="hljs-comment"># flag that is set when search is complete</span>
    resign = <span class="hljs-literal">False</span>  <span class="hljs-comment"># flag set if we can't find expand</span>

    <span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> found <span class="hljs-keyword">and</span> <span class="hljs-keyword">not</span> resign:
        <span class="hljs-keyword">if</span> len(cell) == <span class="hljs-number">0</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">"FAIL"</span>
        <span class="hljs-keyword">else</span>:  <span class="hljs-comment"># to choose the least costliest action so as to move closer to the goal</span>
            cell.sort()
            cell.reverse()
            next = cell.pop()
            x = next[<span class="hljs-number">2</span>]
            y = next[<span class="hljs-number">3</span>]
            g = next[<span class="hljs-number">1</span>]

            <span class="hljs-keyword">if</span> x == goal[<span class="hljs-number">0</span>] <span class="hljs-keyword">and</span> y == goal[<span class="hljs-number">1</span>]:
                found = <span class="hljs-literal">True</span>
            <span class="hljs-keyword">else</span>:
                <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(delta)):  <span class="hljs-comment"># to try out different valid actions</span>
                    x2 = x + delta[i][<span class="hljs-number">0</span>]
                    y2 = y + delta[i][<span class="hljs-number">1</span>]
                    <span class="hljs-keyword">if</span> x2 &gt;= <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> x2 &lt; len(grid) <span class="hljs-keyword">and</span> y2 &gt;= <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> y2 &lt; len(grid[<span class="hljs-number">0</span>]):
                        <span class="hljs-keyword">if</span> closed[x2][y2] == <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> grid[x2][y2] == <span class="hljs-number">0</span>:
                            g2 = g + cost
                            f2 = g2 + heuristic[x2][y2]
                            cell.append([f2, g2, x2, y2])
                            closed[x2][y2] = <span class="hljs-number">1</span>
                            action[x2][y2] = i
    invpath = []
    x = goal[<span class="hljs-number">0</span>]
    y = goal[<span class="hljs-number">1</span>]
    invpath.append([x, y])  <span class="hljs-comment"># we get the reverse path from here</span>
    <span class="hljs-keyword">while</span> x != init[<span class="hljs-number">0</span>] <span class="hljs-keyword">or</span> y != init[<span class="hljs-number">1</span>]:
        x2 = x - delta[action[x][y]][<span class="hljs-number">0</span>]
        y2 = y - delta[action[x][y]][<span class="hljs-number">1</span>]
        x = x2
        y = y2
        invpath.append([x, y])

    path = []
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(invpath)):
        path.append(invpath[len(invpath) - <span class="hljs-number">1</span> - i])
    print(<span class="hljs-string">"ACTION MAP"</span>)
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(action)):
        print(action[i])

    <span class="hljs-keyword">return</span> path


a = search(grid, init, goal, cost, heuristic)
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(a)):
    print(a[i])
</code></pre>
<h1 id="拓扑排序"><a class="markdownIt-Anchor" href="#拓扑排序"></a> 拓扑排序：</h1>
<p>对于有向无环图进行排序，使得对于从顶点<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">u</span></span></span></span> 到顶点<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>v</mi></mrow><annotation encoding="application/x-tex">v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span></span></span></span> 的每个有向边<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>u</mi><mi>v</mi></mrow><annotation encoding="application/x-tex">uv</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">u</span></span></span></span> 在排序中都在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>v</mi></mrow><annotation encoding="application/x-tex">v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span></span></span></span> 之前。</p>
<h2 id="kahn算法"><a class="markdownIt-Anchor" href="#kahn算法"></a> Kahn算法：</h2>
<p>假设 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span></span></span></span> 是存放结果的列表，先找到那些入度为零的节点，把这些节点放到 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span></span></span></span> 中，因为这些节点没有任何的父节点。然后把与这些节点相连的边从图中去掉，再寻找图中的入度为零的节点。对于新找到的这些入度为零的节点来说，他们的父节点已经都在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span></span></span></span> 中了，所以也可以放入 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span></span></span></span>。重复上述操作，直到找不到入度为零的节点。如果此时 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span></span></span></span> 中的元素个数和节点总数相同，说明排序完成；如果<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span></span></span></span> 中的元素个数和节点总数不同，说明原图中存在环，无法进行拓扑排序。</p>
<pre class="highlight"><code class="python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">topologicalSort</span><span class="hljs-params">(graph)</span>:</span>
    <span class="hljs-string">"""
    Kahn's Algorithm is used to find Topological ordering of Directed Acyclic Graph
    using BFS
    """</span>
    indegree = [<span class="hljs-number">0</span>] * len(graph)
    queue = []
    topo = []
    cnt = <span class="hljs-number">0</span>

    <span class="hljs-keyword">for</span> key, values <span class="hljs-keyword">in</span> graph.items():
        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> values:
            indegree[i] += <span class="hljs-number">1</span>

    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(indegree)):
        <span class="hljs-keyword">if</span> indegree[i] == <span class="hljs-number">0</span>:
            queue.append(i)

    <span class="hljs-keyword">while</span> queue:
        vertex = queue.pop(<span class="hljs-number">0</span>)
        cnt += <span class="hljs-number">1</span>
        topo.append(vertex)
        <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> graph[vertex]:
            indegree[x] -= <span class="hljs-number">1</span>
            <span class="hljs-keyword">if</span> indegree[x] == <span class="hljs-number">0</span>:
                queue.append(x)

    <span class="hljs-keyword">if</span> cnt != len(graph):
        print(<span class="hljs-string">"Cycle exists"</span>)
    <span class="hljs-keyword">else</span>:
        print(topo)


<span class="hljs-comment"># Adjacency List of Graph</span>
graph = {<span class="hljs-number">0</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], <span class="hljs-number">1</span>: [<span class="hljs-number">3</span>], <span class="hljs-number">2</span>: [<span class="hljs-number">3</span>], <span class="hljs-number">3</span>: [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>], <span class="hljs-number">4</span>: [], <span class="hljs-number">5</span>: []}
topologicalSort(graph)
</code></pre>
<h1 id="最小生成树"><a class="markdownIt-Anchor" href="#最小生成树"></a> 最小生成树：</h1>
<h2 id="krusal算法"><a class="markdownIt-Anchor" href="#krusal算法"></a> Krusal算法：</h2>
<p>基本思想为从小到大加入边，是一种贪心算法。</p>
<p>其算法流程为：</p>
<ul>
<li>将图<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi><mo>=</mo><mo stretchy="false">{</mo><mi>V</mi><mo separator="true">,</mo><mi>E</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">G = \{V, E\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">G</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathdefault" style="margin-right:0.22222em;">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mclose">}</span></span></span></span> 中的所有边按照长度由小到大进行排序。</li>
<li>初始化图 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>G</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">G&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span> 为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">{</mo><mi>V</mi><mo separator="true">,</mo><mi mathvariant="normal">∅</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{V,\varnothing\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathdefault" style="margin-right:0.22222em;">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord amsrm">∅</span><span class="mclose">}</span></span></span></span> ，从前向后扫描排序后的边，如果扫描到的边 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>e</mi></mrow><annotation encoding="application/x-tex">e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">e</span></span></span></span>  在 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>G</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">G&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span> 中连接了两个相异的连通块,则将它插入<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>G</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">G&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span> 中。</li>
<li>最后得到的图<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal"> </mi><msup><mi>G</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex"> G&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"> </span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span>就是图<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">G</span></span></span></span> 的最小生成树。</li>
<li>实际代码中，首先将这张完全图中的边全部提取到边集数组中，然后对所有边进行排序，从小到大进行枚举，每次贪心选边加入答案。使用并查集维护连通性，若当前边两端不连通即可选择这条边。</li>
</ul>
<pre class="highlight"><code class="python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DisjointSet</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, element_num=None)</span>:</span>
        self._father = {}
        self._rank = {}
        <span class="hljs-comment"># 初始化时每个元素单独成为一个集合</span>
        <span class="hljs-keyword">if</span> element_num <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:
            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(element_num):
                self.add(i)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">add</span><span class="hljs-params">(self, x)</span>:</span>
        <span class="hljs-comment"># 添加新集合</span>
        <span class="hljs-comment"># 如果已经存在则跳过</span>
        <span class="hljs-keyword">if</span> x <span class="hljs-keyword">in</span> self._father:
            <span class="hljs-keyword">return</span> 
        self._father[x] = x
        self._rank[x] = <span class="hljs-number">0</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_query</span><span class="hljs-params">(self, x)</span>:</span>
        <span class="hljs-comment"># 如果father[x] == x，说明x是树根</span>
        <span class="hljs-keyword">if</span> self._father[x] == x:
            <span class="hljs-keyword">return</span> x
        self._father[x] = self._query(self._father[x])
        <span class="hljs-keyword">return</span> self._father[x]

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">merge</span><span class="hljs-params">(self, x, y)</span>:</span>
        <span class="hljs-keyword">if</span> x <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> self._father:
            self.add(x)
        <span class="hljs-keyword">if</span> y <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> self._father:
            self.add(y)
        <span class="hljs-comment"># 查找到两个元素的树根</span>
        x = self._query(x)
        y = self._query(y)
        <span class="hljs-comment"># 如果相等，说明属于同一个集合</span>
        <span class="hljs-keyword">if</span> x == y:
            <span class="hljs-keyword">return</span>
        <span class="hljs-comment"># 否则将树深小的合并到树根大的上</span>
        <span class="hljs-keyword">if</span> self._rank[x] &lt; self._rank[y]:
            self._father[x] = y
        <span class="hljs-keyword">else</span>:
            self._father[y] = x
            <span class="hljs-comment"># 如果树深相等，合并之后树深+1</span>
            <span class="hljs-keyword">if</span> self._rank[x] == self._rank[y]:
                self._rank[x] += <span class="hljs-number">1</span>

    <span class="hljs-comment"># 判断是否属于同一个集合</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">same</span><span class="hljs-params">(self, x, y)</span>:</span>
        <span class="hljs-keyword">return</span> self._query(x) == self._query(y)

<span class="hljs-comment"># 构造数据</span>
edges = [[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">7</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">8</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">9</span>], [<span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>], [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">15</span>], [<span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">6</span>], [<span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>], [<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">11</span>], [<span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>]]

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    disjoinset = DisjointSet(<span class="hljs-number">8</span>)
    <span class="hljs-comment"># 根据边长对边集排序</span>
    edges = sorted(edges, key=<span class="hljs-keyword">lambda</span> x: x[<span class="hljs-number">2</span>])
    res = <span class="hljs-number">0</span>
    <span class="hljs-keyword">for</span> u, v, w <span class="hljs-keyword">in</span> edges:
        <span class="hljs-keyword">if</span> disjoinset.same(u ,v):
            <span class="hljs-keyword">continue</span>
        disjoinset.merge(u, v)
        res += w
    print(res)
</code></pre>
<h2 id="prim算法"><a class="markdownIt-Anchor" href="#prim算法"></a> Prim算法：</h2>
<p>流程：</p>
<pre class="highlight"><code class="tex">选择一个点u，当做已经覆盖
把u所有相连的边加入队列
循环
    循环 从队列头部弹出边
        如果边合法
            弹出
            跳出循环
    获取边的两个端点
    将未覆盖的端点所有边加入队列
直到所有点都已经覆盖
</code></pre>
<pre class="highlight"><code class="python"><span class="hljs-keyword">import</span> heapq

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PriorityQueue</span>:</span>
  
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        self._queue = []
        self._index = <span class="hljs-number">0</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">push</span><span class="hljs-params">(self, item, priority)</span>:</span>
        <span class="hljs-comment"># 传入两个参数，一个是存放元素的数组，另一个是要存储的元素，这里是一个元组。</span>
        <span class="hljs-comment"># heap内部默认从小到大排</span>
        heapq.heappush(self._queue, (priority, self._index, item))
        self._index += <span class="hljs-number">1</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">pop</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-keyword">return</span> heapq.heappop(self._queue)[<span class="hljs-number">-1</span>]

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">empty</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-keyword">return</span> len(self._queue) == <span class="hljs-number">0</span>
      
edges = [[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">7</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">8</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">9</span>], [<span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>], [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">15</span>], [<span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">6</span>], [<span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>], [<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">11</span>], [<span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>]]

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    <span class="hljs-comment"># 记录点是否覆盖</span>
    visited = [<span class="hljs-literal">False</span> <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> range(<span class="hljs-number">11</span>)]
    visited[<span class="hljs-number">1</span>] = <span class="hljs-literal">True</span>
    <span class="hljs-comment"># 邻接表，可以理解成二维数组</span>
    adj_table = [[] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> range(<span class="hljs-number">11</span>)]
    <span class="hljs-comment"># u和v表示两个端点，w表示线段长度</span>
    <span class="hljs-comment"># 我们把v和w放入下标u中</span>
    <span class="hljs-comment"># 把u和w放入下标v中</span>
    <span class="hljs-keyword">for</span> (u, v, w) <span class="hljs-keyword">in</span> edges:
        adj_table[u].append([v, w])
        adj_table[v].append([u, w])

    que = PriorityQueue()

    <span class="hljs-comment"># 我们选择1作为起始点</span>
    <span class="hljs-comment"># 将与1相邻的所有边加入队列</span>
    <span class="hljs-keyword">for</span> edge <span class="hljs-keyword">in</span> adj_table[<span class="hljs-number">1</span>]:
        que.push(edge, edge[<span class="hljs-number">1</span>])

    ret = <span class="hljs-number">0</span>
    <span class="hljs-comment"># 一共有7个点，我们需要加入6条边</span>
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">7</span>):
        <span class="hljs-comment"># 如果队列为空，说明无法构成树</span>
        <span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> que.empty():
            u, w = que.pop()
            <span class="hljs-comment"># 如果连通的端点已经被覆盖了，则跳过</span>
            <span class="hljs-keyword">if</span> visited[u]:
                <span class="hljs-keyword">continue</span>
            <span class="hljs-comment"># 标记成已覆盖</span>
            visited[u] = <span class="hljs-literal">True</span>
            ret += w
            <span class="hljs-comment"># 把与它相连的所有边加入队列</span>
            <span class="hljs-keyword">for</span> edge <span class="hljs-keyword">in</span> adj_table[u]:
                que.push(edge, edge[<span class="hljs-number">1</span>])
            <span class="hljs-keyword">break</span>
            
    print(ret)
</code></pre>
<pre class="highlight"><code class="python"><span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">from</span> collections <span class="hljs-keyword">import</span> defaultdict


<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">PrimsAlgorithm</span><span class="hljs-params">(l)</span>:</span>  <span class="hljs-comment"># noqa: E741</span>

    nodePosition = []

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_position</span><span class="hljs-params">(vertex)</span>:</span>
        <span class="hljs-keyword">return</span> nodePosition[vertex]

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">set_position</span><span class="hljs-params">(vertex, pos)</span>:</span>
        nodePosition[vertex] = pos

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">top_to_bottom</span><span class="hljs-params">(heap, start, size, positions)</span>:</span>
        <span class="hljs-keyword">if</span> start &gt; size // <span class="hljs-number">2</span> - <span class="hljs-number">1</span>:
            <span class="hljs-keyword">return</span>
        <span class="hljs-keyword">else</span>:
            <span class="hljs-keyword">if</span> <span class="hljs-number">2</span> * start + <span class="hljs-number">2</span> &gt;= size:
                m = <span class="hljs-number">2</span> * start + <span class="hljs-number">1</span>
            <span class="hljs-keyword">else</span>:
                <span class="hljs-keyword">if</span> heap[<span class="hljs-number">2</span> * start + <span class="hljs-number">1</span>] &lt; heap[<span class="hljs-number">2</span> * start + <span class="hljs-number">2</span>]:
                    m = <span class="hljs-number">2</span> * start + <span class="hljs-number">1</span>
                <span class="hljs-keyword">else</span>:
                    m = <span class="hljs-number">2</span> * start + <span class="hljs-number">2</span>
            <span class="hljs-keyword">if</span> heap[m] &lt; heap[start]:
                temp, temp1 = heap[m], positions[m]
                heap[m], positions[m] = heap[start], positions[start]
                heap[start], positions[start] = temp, temp1

                temp = get_position(positions[m])
                set_position(positions[m], get_position(positions[start]))
                set_position(positions[start], temp)

                top_to_bottom(heap, m, size, positions)

    <span class="hljs-comment"># Update function if value of any node in min-heap decreases</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">bottom_to_top</span><span class="hljs-params">(val, index, heap, position)</span>:</span>
        temp = position[index]

        <span class="hljs-keyword">while</span> index != <span class="hljs-number">0</span>:
            <span class="hljs-keyword">if</span> index % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>:
                parent = int((index - <span class="hljs-number">2</span>) / <span class="hljs-number">2</span>)
            <span class="hljs-keyword">else</span>:
                parent = int((index - <span class="hljs-number">1</span>) / <span class="hljs-number">2</span>)

            <span class="hljs-keyword">if</span> val &lt; heap[parent]:
                heap[index] = heap[parent]
                position[index] = position[parent]
                set_position(position[parent], index)
            <span class="hljs-keyword">else</span>:
                heap[index] = val
                position[index] = temp
                set_position(temp, index)
                <span class="hljs-keyword">break</span>
            index = parent
        <span class="hljs-keyword">else</span>:
            heap[<span class="hljs-number">0</span>] = val
            position[<span class="hljs-number">0</span>] = temp
            set_position(temp, <span class="hljs-number">0</span>)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">heapify</span><span class="hljs-params">(heap, positions)</span>:</span>
        start = len(heap) // <span class="hljs-number">2</span> - <span class="hljs-number">1</span>
        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(start, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>):
            top_to_bottom(heap, i, len(heap), positions)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">deleteMinimum</span><span class="hljs-params">(heap, positions)</span>:</span>
        temp = positions[<span class="hljs-number">0</span>]
        heap[<span class="hljs-number">0</span>] = sys.maxsize
        top_to_bottom(heap, <span class="hljs-number">0</span>, len(heap), positions)
        <span class="hljs-keyword">return</span> temp

    visited = [<span class="hljs-number">0</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(l))]
    Nbr_TV = [<span class="hljs-number">-1</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(l))]  <span class="hljs-comment"># Neighboring Tree Vertex of selected vertex</span>
    <span class="hljs-comment"># Minimum Distance of explored vertex with neighboring vertex of partial tree</span>
    <span class="hljs-comment"># formed in graph</span>
    Distance_TV = []  <span class="hljs-comment"># Heap of Distance of vertices from their neighboring vertex</span>
    Positions = []

    <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> range(len(l)):
        p = sys.maxsize
        Distance_TV.append(p)
        Positions.append(x)
        nodePosition.append(x)

    TreeEdges = []
    visited[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>
    Distance_TV[<span class="hljs-number">0</span>] = sys.maxsize
    <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> l[<span class="hljs-number">0</span>]:
        Nbr_TV[x[<span class="hljs-number">0</span>]] = <span class="hljs-number">0</span>
        Distance_TV[x[<span class="hljs-number">0</span>]] = x[<span class="hljs-number">1</span>]
    heapify(Distance_TV, Positions)

    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>, len(l)):
        vertex = deleteMinimum(Distance_TV, Positions)
        <span class="hljs-keyword">if</span> visited[vertex] == <span class="hljs-number">0</span>:
            TreeEdges.append((Nbr_TV[vertex], vertex))
            visited[vertex] = <span class="hljs-number">1</span>
            <span class="hljs-keyword">for</span> v <span class="hljs-keyword">in</span> l[vertex]:
                <span class="hljs-keyword">if</span> visited[v[<span class="hljs-number">0</span>]] == <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> v[<span class="hljs-number">1</span>] &lt; Distance_TV[get_position(v[<span class="hljs-number">0</span>])]:
                    Distance_TV[get_position(v[<span class="hljs-number">0</span>])] = v[<span class="hljs-number">1</span>]
                    bottom_to_top(v[<span class="hljs-number">1</span>], get_position(v[<span class="hljs-number">0</span>]), Distance_TV, Positions)
                    Nbr_TV[v[<span class="hljs-number">0</span>]] = vertex
    <span class="hljs-keyword">return</span> TreeEdges


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:  <span class="hljs-comment"># pragma: no cover</span>
    <span class="hljs-comment"># &lt; --------- Prims Algorithm --------- &gt;</span>
    n = int(input(<span class="hljs-string">"Enter number of vertices: "</span>).strip())
    e = int(input(<span class="hljs-string">"Enter number of edges: "</span>).strip())
    adjlist = defaultdict(list)
    <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> range(e):
        l = [int(x) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> input().strip().split()]  <span class="hljs-comment"># noqa: E741</span>
        adjlist[l[<span class="hljs-number">0</span>]].append([l[<span class="hljs-number">1</span>], l[<span class="hljs-number">2</span>]])
        adjlist[l[<span class="hljs-number">1</span>]].append([l[<span class="hljs-number">0</span>], l[<span class="hljs-number">2</span>]])
    print(PrimsAlgorithm(adjlist))
</code></pre>
<h1 id="二分图"><a class="markdownIt-Anchor" href="#二分图"></a> 二分图：</h1>
<p>参考leetcode 886，785</p>
<p>代码模板：</p>
<pre class="highlight"><code class="python"><span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> List
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">isBipartite</span><span class="hljs-params">(self, graph: List[List[int]])</span> -&gt; bool:</span>
        <span class="hljs-string">'''
        :param graph: 输入邻接表方式给出的图，例如：
        [[1,3], [0,2], [1,3], [0,2]]
        图如下：
        0----1
        |    |
        |    |
        3----2
        :return: True or False
        '''</span>
        n = len(graph)
        colors = [<span class="hljs-number">0</span> <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> range(n)]
        <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">dfs</span><span class="hljs-params">(i, color)</span>:</span>
            colors[i] = color
            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> graph[i]:
                <span class="hljs-keyword">if</span> colors[j] == color:
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
                <span class="hljs-keyword">if</span> colors[j] == <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> <span class="hljs-keyword">not</span> dfs(j, <span class="hljs-number">-1</span> * color):
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(n):
            <span class="hljs-keyword">if</span> colors[i] == <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> <span class="hljs-keyword">not</span> dfs(i, <span class="hljs-number">1</span>):
                <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
</code></pre>
<h1 id="并查集"><a class="markdownIt-Anchor" href="#并查集"></a> 并查集：</h1>
<h2 id="并查集-2"><a class="markdownIt-Anchor" href="#并查集-2"></a> 并查集</h2>
<p>基础代码：</p>
<pre class="highlight"><code class="python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UnionFind</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, n: int)</span>:</span>
        self.parent = list(range(n))

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">findset</span><span class="hljs-params">(self, x: int)</span> -&gt; int:</span>
        <span class="hljs-keyword">if</span> self.parent[x] == x:
            <span class="hljs-keyword">return</span> x
        self.parent[x] = self.findset(self.parent[x])
        <span class="hljs-keyword">return</span> self.parent[x]

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">unite</span><span class="hljs-params">(self, x: int, y: int)</span> -&gt; bool:</span>
        x, y = self.findset(x), self.findset(y)
        <span class="hljs-keyword">if</span> x == y:
            <span class="hljs-keyword">return</span>
        self.parent[y] = x

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">connected</span><span class="hljs-params">(self, x: int, y: int)</span> -&gt; bool:</span>
        x, y = self.findset(x), self.findset(y)
        <span class="hljs-keyword">return</span> x == y
</code></pre>
<p>效率优化：永远将深度小的树合并到深度大的树上</p>
<pre class="highlight"><code class="python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DisjointSetUnion</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        self.f = dict()
        self.rank = dict()

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">find</span><span class="hljs-params">(self, x: int)</span> -&gt; int:</span>
        <span class="hljs-keyword">if</span> x <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> self.f:
            self.f[x] = x
            self.rank[x] = <span class="hljs-number">1</span>
            <span class="hljs-keyword">return</span> x
        <span class="hljs-keyword">if</span> self.f[x] == x:
            <span class="hljs-keyword">return</span> x
        self.f[x] = self.find(self.f[x])
        <span class="hljs-keyword">return</span> self.f[x]

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">unionSet</span><span class="hljs-params">(self, x: int, y: int)</span>:</span>
        fx, fy = self.find(x), self.find(y)
        <span class="hljs-keyword">if</span> fx == fy:
            <span class="hljs-keyword">return</span>
        <span class="hljs-keyword">if</span> self.rank[fx] &lt; self.rank[fy]:
            fx, fy = fy, fx
        self.rank[fx] += self.rank[fy]
        self.f[fy] = fx

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">numberOfConnectedComponent</span><span class="hljs-params">(self)</span> -&gt; int:</span>
        <span class="hljs-keyword">return</span> sum(<span class="hljs-number">1</span> <span class="hljs-keyword">for</span> x, fa <span class="hljs-keyword">in</span> self.f.items() <span class="hljs-keyword">if</span> x == fa)
</code></pre>
<p>效率优化：懒惰运算的思想，边查找边路径压缩</p>
<pre class="highlight"><code class="python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UnionFind</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-string">"""
        记录每个节点的父节点
        """</span>
        self.father = {}
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">find</span><span class="hljs-params">(self,x)</span>:</span>
        <span class="hljs-string">"""
        查找根节点
        路径压缩
        """</span>
        root = x

        <span class="hljs-keyword">while</span> self.father[root] != <span class="hljs-literal">None</span>:
            root = self.father[root]

        <span class="hljs-comment"># 路径压缩</span>
        <span class="hljs-keyword">while</span> x != root:
            original_father = self.father[x]
            self.father[x] = root
            x = original_father
         
        <span class="hljs-keyword">return</span> root
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">merge</span><span class="hljs-params">(self,x,y)</span>:</span>
        <span class="hljs-string">"""
        合并两个节点
        """</span>
        root_x,root_y = self.find(x),self.find(y)
        
        <span class="hljs-keyword">if</span> root_x != root_y:
            self.father[root_x] = root_y

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">is_connected</span><span class="hljs-params">(self,x,y)</span>:</span>
        <span class="hljs-string">"""
        判断两节点是否相连
        """</span>
        <span class="hljs-keyword">return</span> self.find(x) == self.find(y)
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">add</span><span class="hljs-params">(self,x)</span>:</span>
        <span class="hljs-string">"""
        添加新节点
        """</span>
        <span class="hljs-keyword">if</span> x <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> self.father:
            self.father[x] = <span class="hljs-literal">None</span>
</code></pre>
<h2 id="带权并查集"><a class="markdownIt-Anchor" href="#带权并查集"></a> 带权并查集</h2>
<pre class="highlight"><code class="python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UnionFind</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-string">"""
        记录每个节点的父节点
        记录每个节点到根节点的权重
        """</span>
        self.father = {}
        self.value = {}
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">find</span><span class="hljs-params">(self,x)</span>:</span>
        <span class="hljs-string">"""
        查找根节点
        路径压缩
        更新权重
        """</span>
        root = x
        <span class="hljs-comment"># 节点更新权重的时候要放大的倍数</span>
        base = <span class="hljs-number">1</span>
        <span class="hljs-keyword">while</span> self.father[root] != <span class="hljs-literal">None</span>:
            root = self.father[root]
            base *= self.value[root]
        
        <span class="hljs-keyword">while</span> x != root:
            original_father = self.father[x]
            <span class="hljs-comment">##### 离根节点越远，放大的倍数越高</span>
            self.value[x] *= base
            base /= self.value[original_father]
            <span class="hljs-comment">#####</span>
            self.father[x] = root
            x = original_father
         
        <span class="hljs-keyword">return</span> root
</code></pre>
<h1 id="trie"><a class="markdownIt-Anchor" href="#trie"></a> Trie</h1>
<pre class="highlight"><code class="python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TrieNode</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        self.children = collections.defaultdict(TrieNode)
        self.is_word = <span class="hljs-literal">False</span>


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Trie</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        self.root = TrieNode()

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">insert</span><span class="hljs-params">(self, word)</span>:</span>
        curr = self.root
        <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> word:
            curr = curr.children[c]
        curr.is_word = <span class="hljs-literal">True</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">search</span><span class="hljs-params">(self, word)</span>:</span>
        current = self.root
        <span class="hljs-keyword">for</span> letter <span class="hljs-keyword">in</span> word:
            current = current.children.get(letter)
            <span class="hljs-keyword">if</span> current <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
        <span class="hljs-keyword">return</span> current.is_word

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">startsWith</span><span class="hljs-params">(self, prefix)</span>:</span>
        current = self.root
        <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> prefix:
            current = current.children.get(c)
            <span class="hljs-keyword">if</span> current <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
</code></pre>

        </div>
        <!-- .entry-content -->
        <!-- <div class="single-reward">
          <div class="reward-open">赏
            <div class="reward-main">
              <ul class="reward-row">
                <li class="alipay-code"><img src="https://cdn.jsdelivr.net/gh/ybb-ybb/CDNrepository@1.1/img/custom/donate/AliPayQR.jpg"></li>
                <li class="wechat-code"><img src="https://cdn.jsdelivr.net/gh/ybb-ybb/CDNrepository@1.1/img/custom/donate/WeChanQR.jpg"></li>
              </ul>
            </div>
          </div>
        </div> -->
        <div style="text-align:center; width: 100%" class="social-share share-mobile" data-disabled="diandian, tencent"></div>
        <footer class="post-footer">
          <div class="post-lincenses"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="nofollow"><i class="fa fa-creative-commons" aria-hidden="true"></i> 知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a></div>
          <div class="post-tags">
          </div>
          <div class="post-share">
            <div class="social-share sharehidden share-component"></div>
            <i class="iconfont show-share icon-forward"></i>
          </div>
        </footer><!-- .entry-footer -->
      </article>
      <!-- #post-## -->
      <div class="toc" style="background: none;"></div>
      <section class="post-squares nextprev">
        
          
            <div class="post-nepre half previous">
          
            <a href="/2021/02/22/java/string_api/" rel="prev">
              <div class="background">
                <img class="lazyload" src="/img/loader/orange.progress-bar-stripe-loader.svg" data-src="https://w.wallhaven.cc/full/k7/wallhaven-k7wor1.jpg" style="width: 100%; height: 100%; object-fit: cover; pointer-events: none;" onerror="imgError(this,3)" src="https://w.wallhaven.cc/full/k7/wallhaven-k7wor1.jpg">
              </div>
              <span class="label">
              Previous Post</span>
              <div class="info">
                <h3>
                java-基本数据结构</h3>
                <hr>
              </div>
            </a>
          </div>
        
        
          
            <div class="post-nepre half next">
          
            <a href="/2020/12/06/python应用/" rel="next">
              <div class="background">
                <img class="lazyload" src="/img/loader/orange.progress-bar-stripe-loader.svg" data-src="https://w.wallhaven.cc/full/nm/wallhaven-nmwp71.jpg" style="width: 100%; height: 100%; object-fit: cover; pointer-events: none;" onerror="imgError(this,3)" src="https://w.wallhaven.cc/full/nm/wallhaven-nmwp71.jpg">
              </div>
              <span class="label">
              Next Post</span>
              <div class="info">
                <h3>
                python应用</h3>
                <hr>
              </div>
            </a>
          </div>
        
      </section>
      
<div id="vcomments"></div>
<script>
  window.onload = function(){
      var valine = new Valine();
      valine.init({
        el: '#vcomments',
        appId: "WkB5pg4GayKX0zctOl4BpfWA-gzGzoHsz",
        appKey: "os0xe9xmnbkH2BsB7jdySUeJ",
        path: window.location.pathname,
        placeholder: "你是我一生只会遇见一次的惊喜 ..."
      })
  }
</script>

      <section class="author-profile">
        <div class="info" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
          <a href="" class="profile gravatar"><img src="" itemprop="image" alt="鱼摆摆" height="70" width="70"></a>
          <div class="meta">
            <span class="title">Author</span>
            <h3 itemprop="name">
            <a href="" itemprop="url" rel="author">鱼摆摆</a>
            </h3>
          </div>
        </div>
        <hr>
        <p><i class="iconfont icon-write"></i></p>
      </section>
    </main><!-- #main -->
  </div><!-- #primary -->
</div>



    </div>    
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="请输入关键词..."/>
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            // PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
    <!-- <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 鱼摆摆<br>
      powered_by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer> -->
<footer id="colophon" class="site-footer" role="contentinfo">
  <div class="site-info">
    <div class="footertext">
      <div class="img-preload">
        <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/wordpress-rotating-ball-o.svg">
        <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/disqus-preloader.svg">
      </div>
      <p style="color: #666666;">&copy 2020 yubaibai</p>
    </div>
    <div class="footer-device">
    <p style="font-family: 'Ubuntu', sans-serif;">
        <span style="color: #b9b9b9;">Theme <a href="https://github.com/honjun/hexo-theme-sakura" target="_blank" style="color: #b9b9b9;;text-decoration: underline dotted rgba(0, 0, 0, .1);">Sakura</a> <i class="iconfont icon-sakura rotating" style="color: #ffc0cb;display:inline-block"></i> by <a href="https://2heng.xin/" target="_blank" style="color: #b9b9b9;;text-decoration: underline dotted rgba(0, 0, 0, .1);">Mashiro</a>&<a href="https://www.hojun.cn/" target="_blank" style="color: #b9b9b9;;text-decoration: underline dotted rgba(0, 0, 0, .1);">Hojun</a>, Powered by Hexo, Hosted by Coding Pages</a>
        </span>
      </p>
    </div>
  </div><!-- .site-info -->
</footer>



<!-- <script src="/js/tocbot.js"></script> -->
<script type="text/javascript" src="/js/lib.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script type="text/javascript" src="/js/InsightSearch.js"></script>
<script type="text/javascript" src="/js/jquery.fancybox.min.js"></script>
<script type="text/javascript" src="/js/zoom.min.js"></script>
<script type="text/javascript" src="/js/sakura-app.js"></script>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='//unpkg.com/valine@1.3.4/dist/Valine.min.js'></script>
<script src="/js/botui.js"></script>
<!-- 不蒜子 网页计数器 -->
<script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js"></script> -->
<script type="text/javascript">
/* <![CDATA[ */
if (/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
  var Poi = {"pjax":"1","movies":{"url": "https://cdn.jsdelivr.net/gh/ybb-ybb/CDNrepository@1.1","name":"Imagine_Dragons _Birds.mp4","live":"close"},"windowheight":"fixed","codelamp":"close","ajaxurl":"","order":"asc","formpostion":"bottom"};
} else {
  var Poi = {"pjax":"1","movies":{"url": "https://cdn.jsdelivr.net/gh/ybb-ybb/CDNrepository@1.1","name":"Imagine_Dragons _Birds.mp4","live":"open"},"windowheight":"auto","codelamp":"close","ajaxurl":"","order":"asc","formpostion":"bottom"};
}
/* ]]> */

</script>
<script>
$(document).ready(function() {
  if ($(".toc").length > 0 && document.body.clientWidth > 1200) {
    if ($(".pattern-center").length > 0) { //有图的情况
      tocbot.init({
          // Where to render the table of contents.
          tocSelector: '.toc', // 放置目录的容器
          // Where to grab the headings to build the table of contents.
          contentSelector: '.entry-content', // 正文内容所在
          // Which headings to grab inside of the contentSelector element.
          scrollSmooth: true,
          headingSelector: 'h1, h2, h3, h4, h5', // 需要索引的标题级别
          headingsOffset: -400,
          scrollSmoothOffset: -85
      });
    } else {
      tocbot.init({
          // Where to render the table of contents.
          tocSelector: '.toc', // 放置目录的容器
          // Where to grab the headings to build the table of contents.
          contentSelector: '.entry-content', // 正文内容所在
          // Which headings to grab inside of the contentSelector element.
          scrollSmooth: true,
          headingSelector: 'h1, h2, h3, h4, h5', // 需要索引的标题级别
          headingsOffset: -85,
          scrollSmoothOffset: -85
      });
    }
    var offsetTop = $('.toc').offset().top - 95;
    window.onscroll = function() {
      var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;
      if (scrollTop >= offsetTop) {
        $('.toc').addClass('toc-fixed');
      } else {
        $('.toc').removeClass('toc-fixed');
      }
    }
  }
});
</script>

    <div class="openNav no-select" style="height: 50px;">
      <div class="iconflat no-select" style="width: 50px; height: 50px;">
        <div class="icon"></div>
      </div>
      <div class="site-branding search-form-submit">
        <i class="iconfont js-toggle-search iconsearch icon-search"></i>
      </div>
    </div>
  </section>
  <div class="changeSkin-gear no-select">
  <div class="keys" id="setbtn"> 
   <span id="open-skinMenu"> 切换主题 | SCHEME TOOL  
     <i class="iconfont icon-gear inline-block rotating"></i> 
   </span>
  </div>
</div>
 
  <div class="skin-menu no-select" id="mainskin" style="position: fixed">
 <div class="theme-controls row-container">
  <ul class="menu-list">
   <li id="white-bg"> <i class="fa fa-television" aria-hidden="true"></i></li>
   <li id="sakura-bg"> <i class="iconfont icon-sakura"></i></li>
   <li id="gribs-bg"> <i class="fa fa-slack" aria-hidden="true"></i></li>
   <li id="KAdots-bg"> <i class="iconfont icon-dots"></i></li>
   <li id="totem-bg"> <i class="fa fa-optin-monster" aria-hidden="true"></i></li>
   <li id="pixiv-bg"> <i class="iconfont icon-pixiv"></i></li>
   <li id="bing-bg"> <i class="iconfont icon-bing"></i></li>
   <li id="dark-bg"> <i class="fa fa-moon-o" aria-hidden="true"></i></li>
  </ul>
 </div>
</div>
<canvas id="night-mode-cover"></canvas>

  <div id="mo-nav" class="">
  <div class="m-avatar">
    <img src="https://cdn.jsdelivr.net/gh/ybb-ybb/CDNrepository@1.1/img/fig.jpg">
  </div>
  <p style="text-align: center; color: #333; font-weight: 900; font-family: 'Ubuntu', sans-serif; letter-spacing: 1.5px">鱼摆摆的blog</p>
  <p style="text-align: center; word-spacing: 20px;">
    
      
        <a href="http://github.com/ybb-ybb" class="fa fa-github" target="_blank" style="color: #333; margin-left:20px"></a>
      
        <a href="https://i.loli.net/2020/03/07/bI1Wws9Mju3CkoZ.jpg" class="fa fa-wechat" target="_blank" style="color: #dd4b39; margin-left:20px"></a>
      
        <a href="https://i.loli.net/2020/03/07/bI1Wws9Mju3CkoZ.jpg" class="fa fa-qq" target="_blank" style="color: #25c6fe; margin-left:20px"></a>
      
    
  </p>
  <ul id="menu-new-1" class="menu">
    
      <li>
        <a href="/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-fort-awesome faa-shake" aria-hidden="true"></i>
            首页
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/archives">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-archive faa-shake" aria-hidden="true"></i>
            归档
          </span>
        </a>
        
          <ul class="sub-menu">
            
              <li>
                <a href="/categories/学习/">
                  <i class="fa fa-code" aria-hidden="true"></i>
                  学习
                </a>
              </li>
            
              <li>
                <a href="/categories/瞎折腾/">
                  <i class="fa fa-file-text-o" aria-hidden="true"></i>
                  瞎折腾
                </a>
              </li>
            
              <li>
                <a href="/categories/实验室/">
                  <i class="fa fa-cloud-download" aria-hidden="true"></i>
                  实验室
                </a>
              </li>
            
              <li>
                <a href="/categories/安利/">
                  <i class="fa fa-commenting-o" aria-hidden="true"></i>
                  安利
                </a>
              </li>
            
              <li>
                <a href="/categories/其它/">
                  <i class="fa fa-book" aria-hidden="true"></i>
                  其它
                </a>
              </li>
            
          </ul>
        
      </li>
    
      <li>
        <a href="javascript:;">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-list-ul faa-vertical" aria-hidden="true"></i>
            清单
          </span>
        </a>
        
          <ul class="sub-menu">
            
              <li>
                <a href="/tags/悦读/">
                  <i class="fa fa-th-list faa-bounce" aria-hidden="true"></i>
                  书单
                </a>
              </li>
            
              <li>
                <a href="/music/">
                  <i class="fa fa-headphones" aria-hidden="true"></i>
                  歌单
                </a>
              </li>
            
          </ul>
        
      </li>
    
      <li>
        <a href="/comment/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-pencil-square-o faa-tada" aria-hidden="true"></i>
            留言板
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/links/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-link faa-shake" aria-hidden="true"></i>
            友人帐
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-leaf faa-wrench" aria-hidden="true"></i>
            关于
          </span>
        </a>
        
          <ul class="sub-menu">
            
              <li>
                <a href="/theme-sakura/">
                  <i class="fa iconfont icon-sakura" aria-hidden="true"></i>
                  主题
                </a>
              </li>
            
              <li>
                <a href="/lab/">
                  <i class="fa fa-cogs" aria-hidden="true"></i>
                  Lab
                </a>
              </li>
            
          </ul>
        
      </li>
    
  </ul>
  <p style="text-align: center; font-size: 13px; color: #b9b9b9;">&copy 2019 hexo-sakura</p>
</div>
<button onclick="topFunction()" class="mobile-cd-top" id="moblieGoTop" title="Go to top" style="display: none;"><i class="fa fa-chevron-up" aria-hidden="true"></i></button>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css">
<script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script>
<!-- require MetingJS -->
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>
<style>
  .aplayer .aplayer-lrc {
    height: 35px;
  }
  .aplayer .aplayer-lrc p{
    font-size: 16px;
    font-weight: 700;
    line-height: 18px !important;
  }
  .aplayer .aplayer-lrc p.aplayer-lrc-current{
    color: #FF1493;
  }
  .aplayer.aplayer-narrow .aplayer-body{
    left: -66px !important;
  }
  .aplayer.aplayer-fixed .aplayer-lrc {
    display: none;
  }
  .aplayer .aplayer-lrc.aplayer-lrc-hide {
      display:none !important;
  }
  .aplayer.aplayer-fixed .lrc-show {
    display: block;
    background: rgba(255, 255, 255, 0.8);
  }
</style>
<meting-js

    id="2114311084"

    server="netease"

    type="playlist"

    fixed="true"

    autoplay="false"

    loop="all"

    order="random"

    preload="auto"

    volume="0.7"

    mutex="true"

</meting-js>
<script>
  $(function(){
    $('body').on('click', '.aplayer', function(){
      if($('.aplayer-button').hasClass('aplayer-play')) {
        $('.aplayer-lrc').removeClass('lrc-show');
      } else {
        $('.aplayer-lrc').addClass('lrc-show');
      }
    })
  });
</script>
</body>
</html>
