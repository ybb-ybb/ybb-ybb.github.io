---
date: 2020-01-24 11:38:00
description: 服务器使用详细教程，输入密码查看
title: 服务器使用详细教程
author: 鱼摆摆
comments: true
tags: 
 - 服务器
photos: https://cn.bing.com/th?id=OIP.h3RRBQ9GAiXgRoiV4kBYaAHaEo&pid=Api&rs=1
password: 123456
categories: 实验室
---
# 服务器使用说明

## 通知公告区

服务器ip：

- 10.7.23.188
- 10.7.31.194
- 10.7.40.145
对应portainer界面地址：
- 10.7.37.62:9000
- 10.7.60.40:9000
- 10.7.40.145:9000
### 公告：
- 最近天气较热，而且存放服务器的房间目前门窗封闭，请注意尽量不要让服务器满功率运行
- openpai的集成管理没装上，改用portaine+自己开放端口的形式
- 已安装的镜像:cuda10:conda，内含anaconda，cuda8及其它版本待安装
- 数据放在服务器的/data目录下，在容器内的位置是/workspace/data
- portainer登录的帐号密码为自己名字首字母，例：ybb
- 近几天我会装个VNC桌面，装好后可以远程桌面控制
- 需要管理员账户、teamviewer远程连接和其它问题请联系我

## 使用教程区
### vpn安装
连接服务器需要校园内网环境，在家需要连接[vpn](https://v.dlut.edu.cn/)访问  
目前学校的vpn仅对老师和博士开放，研究生可以找师兄师姐们借个账号  
账号密码为校园门户的账号密码
安装过程详见[Reference](https://its.dlut.edu.cn/index/jsfw/fwzn/VPN/vpn.htm)
### 容器创建
登入portainer界面  
![](https://i.loli.net/2020/01/17/TS8KR59mgUplPOB.png)
![](https://i.loli.net/2020/01/17/WRPX7kTtM4so6Ka.png)
![](https://i.loli.net/2020/01/17/YkqRPnJ3fVvCamt.png)
输入nvidia-smi查看可用的显卡  
![](https://i.loli.net/2020/01/17/9h238it5kDLVacT.png)
![](https://i.loli.net/2020/01/17/BxM5rIaWsNGimXf.png)
![](https://i.loli.net/2020/01/17/CZr5HvK7hDfQakF.png)
![](https://i.loli.net/2020/01/17/kLZ5uQmDfI8aecR.png)
![](https://i.loli.net/2020/01/17/ap3g1urL8xVSyqF.png)

### 端口开放

![](https://i.loli.net/2020/01/17/4iSh9ZCT5WyDaX1.png)
vim /etc/ssh/sshd_config  
取消Port行的注释，修改为自己的端口号，
***同一台服务器端口号不要重复！***
![](https://i.loli.net/2020/01/17/PgvJyiwIkFj7Hd2.png)



保存后  service  ssh restart

passwd 修改登录密码

![](https://i.loli.net/2020/01/17/WHwyvCMsSrj2XzZ.png)

### 为防止端口号重复，请使用自己的端口
- 罗金铭 1001--- 1050
- 田胜景 1051--- 1100
- 周骏     1101--- 1150
- 谭红臣 1151--- 1200
- 孔雨秋 1201--- 1250
- 陈宝玉 1251--- 1300
- 张怡     1301--- 1350
- 田国强 1351--- 1400
- 王华胜 1401--- 1450
- 王诗瑶 1451--- 1500
- 黄骅     1501--- 1550
- 于冰冰  1551--- 1600
- 卞瑜昊 1601--- 1650
- 薛怡     1651--- 1700
- 肖贺文 1701--- 1750
- 王艺路 1751--- 1800
- 陈心慧 1801--- 1850
- 薛钰洁 1851--- 1900
- 徐子涵 1901--- 1950
- 刘斌     1951--- 2000
### 调用服务器运行程序
连接：
```bash
# port为自己的端口号
$ ssh -p port root@10.7.60.40
```

在服务器中用conda建立自己需要的环境，激活环境：  
```bash
$ source activate env_name
```

文件拷贝
```bash
# 拷贝文件夹需要添加参数-r
# 电脑中的文件拷贝到容器中，port为端口号
$ scp -P port /dir/filename root@10.7.60.40:/dir
# 容器中的文件拷贝到电脑上
$ scp -P port root@10.7.60.40:/dir/filename /dir
```

可以将代码拷贝到服务器内，在容器中用命令运行程序，用vim修改代码或本地改好代码后将代码传到服务器上  

也可以用Pycharm(必须要专业版)同步本地和容器中的代码

```text
File-->Settings-->Project-->Project InterPreter-->小齿轮-->Add-->SSH Interpreter
```
![](https://i.loli.net/2020/01/17/tTbynhUlrCj74gk.png)
![](https://i.loli.net/2020/01/17/krKMPRG3H1xJCys.png)
![](https://i.loli.net/2020/01/17/PGpJ51vgBfWmuDZ.png)
![](https://i.loli.net/2020/01/17/AOzeFlLaBS4IvrP.png)
![](https://i.loli.net/2020/01/17/kfvGnTdMwAsHOgD.png)
![](https://i.loli.net/2020/01/17/IC1H28iaDRVu5G6.png)

Pycharm连接服务器终端:

```text
Tools-->Start SSH session-->选择
```
![](https://i.loli.net/2020/01/17/Q87Y6SrfHtEDCp4.png)
![](https://i.loli.net/2020/01/17/2pFYIdCS9mLzvQe.png)
![](https://i.loli.net/2020/01/17/m4Zdxnk1wSu2HXG.png)

## 有其他问题connect me
## 其他内容待补充